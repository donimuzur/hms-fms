<section class="content" ng-init="weightMxCtrl.init()">
    <ol class="breadcrumb col-md-10">
        <li><a href="#/homeadmin"><i class="fa fa-home"></i> {{'BREADCRUMB.BERANDA'|translate}}</a></li>
        <li ng-repeat="b in weightMxCtrl.breadcrumbs">
            <a ng-if="b.href" href="{{b.href}}">{{ b.title | translate}}</a>
            <a ng-if="!b.href">{{ b.title | translate}}</a>
        </li>
    </ol>
    <div class="row col-md-10 col-sm-10 col-xs-10">
        <div class="box box-primary">
            <div class="box-body">
                <div class="row">
                    <div class="col-md-12">
                        <h3 class="text-center afta-font">{{'WEIGHT_MX.WEIGHTING_MATRIX' | translate}}</h3>
                        <h4 class="text-center afta-font">{{weightMxCtrl.ProjectTitle}}</h4>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-4">
                        <div class="form-group">
                            <label class="control-label">{{'WEIGHT_MX.METODE_EVALUASI'|translate}} : </label>
                            <span ng-if="weightMxCtrl.isTenderVerification"> {{weightMxCtrl.nama}}</span>
                            <select ng-if="!weightMxCtrl.isTenderVerification" class="form-control input-sm" ng-model="weightMxCtrl.selectedEvaluationMethod" ng-change="weightMxCtrl.loadMEDetail()">
                                <option ng-repeat="em in weightMxCtrl.evaluationMethods" value="{{em.EvaluationMethodId}}">{{em.EvaluationMethodName}}</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-12">
                        <div class="well">
                            <div class="container-fluid" ng-if="weightMxCtrl.bobotAdministrasi > 0">
                                <div class="row">
                                    <div class="col-md-8" style="float: none!important;">
                                        <h5 class="afta-font">{{'WEIGHT_MX.ADMINISTRASI'|translate}} : {{weightMxCtrl.bobotAdministrasi}}%</h5>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-8" style="float: none!important;">
                                        <ul>
                                            <li ng-repeat="kri in weightMxCtrl.Administrasi">
                                                {{kri.CriteriaName}} <span class="pull-right text-center" style="right: 10px;">{{kri.Weight}}%</span>
                                                <ul>
                                                    <li ng-repeat="level2 in kri.sub">
                                                        {{level2.CriteriaName}}  <span class="pull-right text-center" style="right: 10px;">{{level2.Weight}}%</span>
                                                        <ul>
                                                            <li ng-repeat="level3 in level2.sub">
                                                                {{level3.CriteriaName}}  <span class="pull-right text-center" style="right: 10px;">{{level3.Weight}}%</span>
                                                            </li>
                                                        </ul>
                                                    </li>
                                                </ul>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                                <br />
                            </div>
                            <div class="container-fluid" ng-if="weightMxCtrl.bobotTeknis > 0">
                                <div class="row">
                                    <div class="col-md-10" style="float: none!important;">
                                        <h5 class="afta-font">{{'WEIGHT_MX.TEKNIS'|translate}} {{weightMxCtrl.bobotTeknis}}%</h5>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-10" style="float: none!important;">
                                        <ul>
                                            <li ng-repeat="kri in weightMxCtrl.Teknis">
                                                {{kri.CriteriaName}} <span class="pull-right text-center text-bold" style="text-decoration-line: 10px;">{{kri.Weight}}%|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
                                                <ul>
                                                    <li ng-repeat="level2 in kri.sub">
                                                        {{level2.CriteriaName}} <span class="pull-right text-center text-green" style="right: 10px;">{{level2.Weight}}%|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
                                                        <ul>
                                                            <li ng-repeat="level3 in level2.sub">
                                                                {{level3.CriteriaName}} <span class="pull-right text-center text-blue" style="right: 10px;">{{level3.Weight}}%|</span>
                                                            </li>
                                                        </ul>
                                                    </li>
                                                </ul>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                                <br />
                            </div>
                            <div class="container-fluid" ng-if="weightMxCtrl.bobotHarga > 0">
                                <div class="row">
                                    <div class="col-md-8" style="float: none!important;">
                                        <h5 class="afta-font">{{'WEIGHT_MX.HARGA'|translate}} {{weightMxCtrl.bobotHarga}}%</h5>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-8" style="float: none!important;">
                                        <ul>
                                            <li ng-repeat="kri in weightMxCtrl.Harga">
                                                {{kri.CriteriaName}} <span class="pull-right text-center" style="right: 10px;">{{kri.Weight}}%</span>
                                                <ul>
                                                    <li ng-repeat="level2 in kri.sub">
                                                        {{level2.CriteriaName}}  <span class="pull-right text-center" style="right: 10px;">{{level2.Weight}}%</span>
                                                        <ul>
                                                            <li ng-repeat="level3 in level2.sub">
                                                                {{level3.CriteriaName}}  <span class="pull-right text-center" style="right: 10px;">{{level3.Weight}}%</span>
                                                            </li>
                                                        </ul>
                                                    </li>
                                                </ul>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="box-footer">
                <div class="row">
                    <div class="col-md-12 text-center">
                        <button ng-click="weightMxCtrl.cancel()" class="btn btn-flat btn-primary" title="{{'KEMBALI' | translate}}"><i class="fa fa-reply"></i> </button>
                        <button ng-if="!weightMxCtrl.isTenderVerification" ng-click="weightMxCtrl.save()" class="btn btn-flat btn-success" ng-disabled="!weightMxCtrl.selectedEvaluationMethod" title="{{'SIMPAN' | translate}}"><i class="fa fa-save"></i> </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>